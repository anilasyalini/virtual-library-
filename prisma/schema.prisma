generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL")
}

model Resource {
  id          String   @id @default(cuid())
  title       String
  description String?
  fileUrl     String
  fileName    String
  fileType    String
  uploader    String   @default("Anonymous Student")
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  category    String   @default("Uncategorized")
  course      String   @default("General")
  specialization String @default("General")
}

model Course {
  id              String           @id @default(cuid())
  name            String           @unique
  specializations Specialization[]
}

model Specialization {
  id       String @id @default(cuid())
  name     String
  courseId String
  course   Course @relation(fields: [courseId], references: [id])

  @@unique([name, courseId])
}
